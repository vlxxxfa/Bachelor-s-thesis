%Dokumentenklasse "scrbook" - Erweitert um den Verweis auf die Verzeichnisse und Texteigenschaften
\documentclass[chapterprefix=true, 12pt, a4paper, oneside, parskip=half, listof=totoc, bibliography=totoc, numbers=noendperiod]{scrbook}

% Ränder (Standard bottom ca. 52mm anbzüglich von ca. 4mm für die nach oben rechts gewanderte Seitenzahl)
%Anpassung der Seitenränder
\usepackage[bottom=48mm,left=25mm,right=25mm]{geometry}

% Ränder bei Bedarf zeigen
%\usepackage{showframe}

%Tweaks für scrbook
%\usepackage{scrhack}

%Ermöglicht Verknüpfungen innerhalb des Dokumentes (e.g. for PDF), Links werden durch "hidelink" nicht explizit hervorgehoben
\usepackage[hidelinks,german]{hyperref}
\def\UrlBreaks{\do\/\do-}

%Erlaubt unteranderem Umbrücke captions
\usepackage{caption}

%Stichwortverzeichnis
\usepackage{imakeidx}

%Kompakte Listen
\usepackage{paralist}

%Zitate besser formatieren und darstellen
\usepackage{epigraph}

%Glossar, Stichworverzeichnis
\usepackage[toc, acronym]{glossaries} % Akronyme werden als eigene Liste aufgeführt

%Anpassung von Kopf- und Fußzeile
%beinflusst die erste Seite des Kapitels
\usepackage[automark,headsepline]{scrlayer-scrpage}
\automark{chapter}
\ihead{\leftmark}
\chead{}
\ohead{\thepage}
\ifoot*{}
\cfoot[\thepage]{}
\cfoot*{}
\ofoot*{}
\pagestyle{scrheadings}

%Auskommentieren für die Verkleinerung des vertikalen Abstandes eines neuen Kapitels
%\renewcommand*{\chapterheadstartvskip}{\vspace*{.25\baselineskip}}

%Zeilenabstand 1,5
\usepackage[onehalfspacing]{setspace}

%Verbesserte Darstellung der Buchstaben zueinander
\usepackage[stretch=10]{microtype}

%Deutsche Bezeichnungen für angezeigte Namen (z.B. Innhaltsverzeichnis etc.)
\usepackage[ngerman]{babel}

%Unterstützung von Umlauten und anderen Sonderzeichen (UTF-8)
\usepackage{lmodern}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}

%Einfachere Zitate
\usepackage{epigraph}

%Verwendung von Akronymen
\usepackage[printonlyused]{acronym}

%Unterstützung der H positionierung (keine automatische Verschiebung eingefügter Elemente)
\usepackage{float} 

%Erlaubt Umbrüche innerhalb von Tabellen
\usepackage{tabularx}

%Erlaubt Seitenumbrüche mit Tabellen
\usepackage{longtable}

%Erlaubt die Darstellung von Sourcecode mit Highlighting
\usepackage{listings}

%Definierung eigener Farben bei nutzung eines selbst vergebene Namens
\usepackage[table,xcdraw]{xcolor}
\usepackage{color}
\usepackage{tikzpagenodes}

\usepackage{fullpage}
\usepackage[all]{tcolorbox}

\usepackage{etoolbox}
\pretocmd{\chapter}{\addtocontents{mypyg}{\addvspace{10pt}}}{}{}
\makeatletter
\renewcommand*\l@tcolorbox{\@dottedtocline{1}{1.5em}{3em}}
\makeatother

\newtcblisting{myFormatForJava}[2][]
{colback=bg,
colframe=black!70,
enhanced,
listing only,
overlay={\begin{tcbclipinterior}\fill[black!25] (frame.south west)
    rectangle ([xshift=5.1mm]frame.north west);\end{tcbclipinterior}},
    listing remove caption=false,
listing options={numbers=left, numberstyle=\tiny,   basicstyle=\small\ttfamily, xleftmargin=0.6em, language = c, aboveskip=\smallskipamount, belowskip=\smallskipamount, caption={#2}},#1
}

%Vektorgrafiken
\usepackage{tikz}

%Grafiken (wie jpg, png, etc.)
\usepackage{graphicx}
\newcommand*{\quelle}[1]{\par\raggedleft\footnotesize Quelle:~#1}

%Grafiken von Text umlaufen lassen
\usepackage{wrapfig}

%Einbindung und Verwaltung von Literaturverzeichnissen
\usepackage{csquotes} %wird von biber benötigt
\usepackage[style=numeric-comp, backend=biber, bibencoding=ascii]{biblatex}
\ExecuteBibliographyOptions{sorting=nty} % Standard
\ExecuteBibliographyOptions{%  isbn=false, url=false, doi=false, eprint=false,%}%
\ExecuteBibliographyOptions{%  firstinits=true,}%

%\addbibresource{references/references.bib}
\addbibresource{references/literaturN.bib}

%-------------------------------Zusätzliche Anpassungen und Modifikationen--------------------------------------------%

%Anpassung der Überschriften
\addtokomafont{disposition}{\rmfamily}

%Pluszeichen in der Referenc beim zitieren ausblenden
\renewcommand*{\labelalphaothers}{}

%Anpassungen für das Abkürzungsverzeichnis
\newglossarystyle{dottedlocations}{%
	\glossarystyle{list}%
	\renewcommand*{\glossaryentryfield}[5]{%
		\item[\glsentryitem{##1}\glstarget{##1}{##2}] \emph{##3}%
		\unskip\leaders\hbox to 2.9mm{\hss.}\hfill##5}%
	\renewcommand*{\glsgroupskip}{}%
}

%include the usecases package
\usepackage{usecases}

\usepackage{color}

\usepackage{tcolorbox}
\tcbuselibrary{listings,skins}        %%% skins needed for shadow

\definecolor{lbcolor}{rgb}{0.1,0.1,0.1}
\definecolor{bg}{rgb}{0.85,0.85,0.85}

\newminted[myjson]{js}{tabsize=2,fontsize=\footnotesize}
\newminted[myxml]{xml}{tabsize=2,fontsize=\footnotesize}
\newminted[myshell]{shell-session}{tabsize=2,fontsize=\footnotesize}
\newminted[mycode]{text}{tabsize=2,fontsize=\footnotesize}
\newminted[myJava]{java}{tabsize=2,fontsize=\footnotesize, linenos, numbersep=3mm}
\newminted[myJS]{javascript}{tabsize=2,fontsize=\footnotesize}

% Box for Shell
\newtcolorbox[auto counter,number within=section,
  list inside=mybox]{mintedboxShell}[2][]{%
  title={Listing \thetcbcounter: #2},
  list entry={\protect\numberline{\thetcbcounter}#2},
  enhanced,
  left=6mm,
  overlay={\begin{tcbclipinterior}\fill[black!5!white] (frame.south west)
            rectangle ([xshift=6mm]frame.north west);\end{tcbclipinterior}},
  colframe=black!50!black,
  colback=black!5!white,
  break at=10cm,
  drop fuzzy shadow,#1}

\newenvironment{listingsboxShell}[3][]
 {%
   \def\listingsboxenvironment{#2}%save the environments
   \VerbatimEnvironment%
   \begin{mintedboxShell}[#1]{#3}%
     \begin{\listingsboxenvironment}}%
 {%
  \end{\listingsboxenvironment}%
  \end{mintedboxShell}%
}

% Box for Java
\newtcolorbox[auto counter,number within=section,
  list inside=mybox]{mintedboxJava}[2][]{%
  title={Listing \thetcbcounter: #2},
  list entry={\protect\numberline{\thetcbcounter}#2},
  enhanced,
  left=6mm,
  overlay={\begin{tcbclipinterior}\fill[red!5!white] (frame.south west)
            rectangle ([xshift=6mm]frame.north west);\end{tcbclipinterior}},
  colframe=red!75!black,
  colback=red!5!white,
  break at=10cm,
  drop fuzzy shadow,#1}

\newenvironment{listingsboxJava}[3][]
 {%
   \def\listingsboxenvironment{#2}%save the environments
   \VerbatimEnvironment%
   \begin{mintedboxJava}[#1]{#3}%
     \begin{\listingsboxenvironment}}%
 {%
  \end{\listingsboxenvironment}%
  \end{mintedboxJava}%
}

% Box for JavaScript
\newtcolorbox[auto counter,number within=section,
  list inside=mybox]{mintedboxJavaScript}[2][]{%
  title={Listing \thetcbcounter: #2},
  list entry={\protect\numberline{\thetcbcounter}#2},
  enhanced,
  left=6mm,
  overlay={\begin{tcbclipinterior}\fill[green!5!white] (frame.south west)
            rectangle ([xshift=6mm]frame.north west);\end{tcbclipinterior}},
  colframe=green!75!black,
  colback=green!5!white,
  break at=10cm,
  drop fuzzy shadow,#1}

\newenvironment{listingsboxJavaScript}[3][]
 {%
   \def\listingsboxenvironment{#2}%save the environments
   \VerbatimEnvironment%
   \begin{mintedboxJavaScript}[#1]{#3}%
     \begin{\listingsboxenvironment}}%
 {%
  \end{\listingsboxenvironment}%
  \end{mintedboxJavaScript}%
}
